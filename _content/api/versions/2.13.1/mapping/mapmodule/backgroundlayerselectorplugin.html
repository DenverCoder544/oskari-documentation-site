<h1 id="background-layer-selection-plugin">Background Layer Selection Plugin</h1>
<h2 id="description">Description</h2>
<p>This plugin provides a background maplayer selection &quot;dropdown&quot; on top of the map.</p>
<h2 id="screenshot">Screenshot</h2>
<h2 id="closed">Closed</h2>
<p><img src="/apires/2.13.1/mapping/mapmodule/images/backgroundlayerselection_closed.png" alt="closed"></p>
<h2 id="open">Open</h2>
<p><img src="/apires/2.13.1/mapping/mapmodule/images/backgroundlayerselection_open.png" alt="open"></p>
<h2 id="list">List</h2>
<p><img src="/apires/2.13.1/mapping/mapmodule/images/backgroundlayerselection_list.png" alt="list"></p>
<h2 id="bundle-configuration">Bundle configuration</h2>
<pre><code class="language-javascript">{
  &quot;baseLayers&quot; : [&quot;&lt;layerid 1&gt;&quot;,&quot;&lt;layerid 2&gt;&quot;,&quot;&lt;layerid 3&gt;&quot;&quot;],
  &quot;showAsDropdown&quot; : &lt;true/false&gt;
}
</code></pre>
<p>Configuration is required to define the preset background layers.</p>
<p>UI can be presented as a button bar or a dropdown, this is controlled with <code>showAsDropdown</code>, which defaults to false.</p>
<p>The font and colour scheme of the plugin are configurable, with variables <code>font</code> (String) and <code>colorScheme</code> (Object) respectively. A CSS class of <code>oskari-publisher-font-&lt;font&gt;</code> is expected to be defined with font-family definition. The <code>colorScheme</code> object should have keys <code>buttonColor</code>, <code>buttonBackgroundColor</code>, <code>buttonSelectedColor</code>, <code>buttonSelectedBackgroundColor</code> and <code>buttonBorderColor</code>.</p>
<h2 id="requests-the-plugin-handles">Requests the plugin handles</h2>
<p>This plugin doesn&#39;t handle any requests.</p>
<h2 id="requests-the-plugin-sends-out">Requests the plugin sends out</h2>
<table class="table">
  <tr>
    <th>Request</th><th>Why/when</th>
  </tr>
  <tr>
    <td>MapModulePlugin.RemoveMapLayerRequest</td>
    <td>Remove old background layer selection</td>
  </tr>
  <tr>
    <td>MapModulePlugin.AddMapLayerRequest</td>
    <td>Add new background layer selection</td>
  </tr>
  <tr>
    <td>MapModulePlugin.RearrangeSelectedMapLayerRequest</td>
    <td>Move bg layer to bottom</td>
  </tr>
</table>

<h2 id="events-the-plugin-listens-to">Events the plugin listens to</h2>
<table class="table">
  <tr>
    <th>Event</th><th>Why/when</th>
  </tr>
  <tr>
    <td>Oskari.mapframework.event.common.AfterRearrangeSelectedMapLayerEvent</td>
    <td>Update selection, bottom baselayer might've changed</td>
  </tr>
  <tr>
    <td>Oskari.mapframework.event.common.AfterMapLayerRemoveEvent</td>
    <td>Redo ui, one of the preset bg layers might've been deleted</td>
  </tr>
  <tr>
    <td>Oskari.mapframework.event.common.AfterMapLayerAddEvent</td>
    <td>Redo ui, we might've gotten a previously missing preset bg layer</td>
  </tr>
  <tr>
    <td>Oskari.mapframework.event.common.MapLayerEvent</td>
    <td>Redo ui, we might've gotten a previously missing preset bg layer</td>
  </tr>
</table>

<h2 id="events-the-plugin-sends-out">Events the plugin sends out</h2>
<p>This bundle doesn&#39;t send any events.</p>
<h2 id="dependencies">Dependencies</h2>
<table class="table">
  <tr>
    <th>Dependency</th><th>Linked from</th><th>Purpose</th>
  </tr>
  <tr>
    <td> [jQuery](http://api.jquery.com/) </td>
    <td> Version 1.7.1 assumed to be linked (on page locally in portal) </td>
    <td> Used to create the UI</td>
  </tr>
</table>
