<h1 id="aftermapmoveevent-rpc">AfterMapMoveEvent <span class="label label-primary rpc">RPC</span></h1>
<p>Notifies that map has been moved or zoomed.</p>
<h2 id="description">Description</h2>
<p>Event is used to notify that map has been moved or zoomed.</p>
<h2 id="parameters">Parameters</h2>
<p>(* means the parameter is required)</p>
<table class="table">
<tr>
  <th> Name</th><th> Type</th><th> Description</th><th> Default value</th>
</tr>
<tr>
  <td> \* centerX </td><td> Number </td><td> longitude of map center </td><td> </td>
</tr>
<tr>
  <td> \* centerY </td><td> Number </td><td> latitude of map center </td><td> </td>
</tr>
<tr>
  <td> \* zoom </td><td> Number </td><td> map zoomlevel (0-12) </td><td> </td>
</tr>
<tr>
  <td> \* scale </td><td> Number </td><td> map scale </td><td> </td>
</tr>
<tr>
  <td> \* camera </td><td> Object </td><td> camera orientation for 3d maps </td><td> </td>
</tr>
</table>

<h2 id="rpc">RPC</h2>
<p>Event occurs after a map has been moved or zoomed.</p>
<pre class="event-code-block">
<code>
{
  "centerX": 411650.70779123,
  "centerY": 6751897.3481153,
  "zoom": 4,
  "scale": 362834
}
</code>
</pre>

<h2 id="event-methods">Event methods</h2>
<h3 id="getname">getName()</h3>
<p>Returns name of the event</p>
<h3 id="getcenterx">getCenterX()</h3>
<p>Returns map center x coordinate</p>
<h3 id="getcentery">getCenterY()</h3>
<p>Returns map center y coordinate</p>
<h3 id="getzoom">getZoom()</h3>
<p>Returns map zoom level</p>
<h3 id="getscale">getScale()</h3>
<p>Returns map scale</p>
<h3 id="getcamera">getCamera()</h3>
<p>Returns object for camera orientation containing heading, pitch and roll. (Only in 3d map)</p>
<h3 id="getparams">getParams()</h3>
<p>Returns all the parameters of the event as an object:</p>
<pre class="event-code-block">
<code>
{
    centerX: me._centerX,
    centerY: me._centerY,
    zoom: me._zoom,
    scale: me._scale
};
</code>
</pre>

<h2 id="examples">Examples</h2>
<p>Mapmodule.ol catches map move and sends AfterMapMoveEvent:</p>
<pre class="event-code-block">
<code>
map.on('moveend', function(evt) {
    var map = evt.map;
    var extent = map.getView().calculateExtent(map.getSize());
    var center = map.getView().getCenter();

    sandbox.getMap().setMoving(false);
    sandbox.printDebug("sending AFTERMAPMOVE EVENT from map Event handler");

    var lonlat = map.getView().getCenter();
    me.updateDomain();
    var sboxevt = sandbox.getEventBuilder('AfterMapMoveEvent')(lonlat[0], lonlat[1], map.getView().getZoom(), me.getMapScale());
    sandbox.notifyAll(sboxevt);
});
</code>
</pre>


<p><em>Included in bundle: <a href="bundles#latest/mapping/mapmodule">mapping/mapmodule</a></em></p>
